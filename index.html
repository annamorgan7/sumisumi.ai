export default async function handler(req, res) {
    // Allow requests from your website
    res.setHeader('Access-Control-Allow-Origin', '*');
    res.setHeader('Access-Control-Allow-Methods', 'POST, OPTIONS');
    res.setHeader('Access-Control-Allow-Headers', 'Content-Type');

    // Handle browser preflight request
    if (req.method === 'OPTIONS') {
        res.status(200).end();
        return;
    }

    // Only accept POST requests
    if (req.method !== 'POST') {
        return res.status(405).json({ error: 'Method not allowed' });
    }

    try {
        const { email } = req.body;

        // Check if email is valid
        if (!email || !email.includes('@')) {
            return res.status(400).json({ 
                success: false, 
                message: 'Please enter a valid email address' 
            });
        }

        // Get current time
        const timestamp = new Date().toISOString();
        
        // For now, we'll just log the email (you'll see it in Vercel logs)
        console.log('New waitlist signup:', email, 'at', timestamp);

        // Send success response
        res.status(200).json({ 
            success: true, 
            message: 'Successfully added to waitlist' 
        });

    } catch (error) {
        console.error('Error:', error);
        res.status(500).json({ 
            success: false, 
            message: 'Something went wrong' 
        });
    }
}            width: 100%;
            max-width: 400px;
            padding: 20px 25px;
            border: 2px solid #F5E6E8;
            border-radius: 50px;
            background: #FDF8F5;
            font-size: 16px;
            text-align: center;
            font-family: 'Playfair Display', serif;
            transition: all 0.3s ease;
        }
        
        .email-input:focus {
            outline: none;
            border-color: #870215;
            background: white;
        }
        
        .email-input::placeholder {
            color: #ADADAD;
        }
        
        .waitlist-btn {
            background: #870215;
            color: #FFFFFF;
            padding: 20px 50px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Playfair Display', serif;
            letter-spacing: 0.5px;
        }
        
        .waitlist-btn:hover {
            background: #6B0111;
            transform: translateY(-2px);
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 20px;
                padding: 70px 50px;
            }
            
            .title {
                font-size: 100px;
                letter-spacing: 4px;
            }
            
            .subtitle {
                font-size: 18px;
            }
            
            .description {
                font-size: 16px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 50px 30px;
            }
            
            .title {
                font-size: 80px;
                letter-spacing: 3px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">SUMI<br>SUMI</h1>
        <p class="subtitle">Fashion intelligence, redefined</p>
        <p class="description">Your personal style companion<br>Loading...</p>
        
        <form class="email-form" onsubmit="handleSubmit(event)">
            <input 
                type="email" 
                class="email-input"
                placeholder="Enter your email"
                required
            >
            <button type="submit" class="waitlist-btn">
                Join the waitlist
            </button>
        </form>
    </div>

    <script>
        function handleSubmit(event) {
            event.preventDefault();
            const email = event.target.querySelector('input').value;
            alert('Thank you. ' + email + ' has been added to the Sumi Sumi waitlist.');
            event.target.querySelector('input').value = '';
        }
    </script>
</body>
</html>
